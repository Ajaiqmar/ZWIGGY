<Page x:Class="Zwiggy.View.RestaurantView"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:local="using:Zwiggy.View"
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
      xmlns:vm="using:Zwiggy.ViewModel"
      xmlns:uc="using:Zwiggy.View.User_Control"
      xmlns:m="using:Zwiggy.Core.Model"
      xmlns:controls="using:Microsoft.Toolkit.Uwp.UI.Controls"
      mc:Ignorable="d"
      Background="Transparent">

    <Page.DataContext>
        <vm:RestaurantViewModel x:Name="RestaurantVM" />
    </Page.DataContext>

        <Grid Background="White"
          CornerRadius="5,0,0,0">

            <VisualStateManager.VisualStateGroups>
                <VisualStateGroup>
                    <VisualState>
                        <VisualState.StateTriggers>
                            <AdaptiveTrigger MinWindowWidth="600" />
                        </VisualState.StateTriggers>
                    </VisualState>
                    <VisualState>
                        <VisualState.StateTriggers>
                            <AdaptiveTrigger MinWindowWidth="0" />
                        </VisualState.StateTriggers>
                        <VisualState.Setters>
                        <Setter Target="RestaurantIconImage.Visibility"
                                    Value="Collapsed"/>
                        <Setter Target="RestaurantTextbox.Margin" Value="0"/>
                        </VisualState.Setters>
                    </VisualState>
                </VisualStateGroup>
            </VisualStateManager.VisualStateGroups>

            <Grid Background="#f4f4f4">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="*" />
                </Grid.RowDefinitions>
                <Grid Height="75"
                  Background="White"
                  Margin="10"
                  CornerRadius="5"
                  SizeChanged="OnRestaurantPageResized">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="*"
                                      x:Name="MiddleColumn"
                                      MinWidth="140"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    <StackPanel Orientation="Horizontal"
                            Margin="20,0,0,0"
                            VerticalAlignment="Center">
                        <Image Name="RestaurantIconImage"
                        Source="../Assets/Images/Icons/restaurant.png"
                           VerticalAlignment="Center"
                           Height="25"
                           Width="25"/>
                        <TextBlock Text="Restaurants"
                               Name="RestaurantTextbox"
                               FontSize="30"
                               Margin="5,0,0,0"
                               Style="{StaticResource HeaderTextBlockStyle}" />
                        <TextBlock Text="("
                               Margin="5,0,2,0"
                               FontSize="24"
                               VerticalAlignment="Center"
                               Style="{StaticResource HeaderTextBlockStyle}" />
                        <TextBlock Name="TotalRestaurantCountTextBlock"
                               Text="{Binding RestaurantCount,Mode=OneWay}"
                               FontSize="30"
                               Style="{StaticResource HeaderTextBlockStyle}" />
                        <TextBlock Text=")"
                               FontSize="24"
                               Margin="2,0,0,0"
                               VerticalAlignment="Center"
                               Style="{StaticResource HeaderTextBlockStyle}" />
                    </StackPanel>
                    <Grid  Name="MiddleColumnGrid"
                       Grid.Column="1" />
                    <CommandBar x:Name="MyCommandBar"
                            Grid.Column="2"
                            Margin="0,0,20,0"
                            VerticalAlignment="Center"
                            Background="Transparent">
                        <CommandBar.Template>
                            <ControlTemplate TargetType="CommandBar">
                                <Grid x:Name="LayoutRoot">

                                    <Grid.Resources>
                                        <Style TargetType="AppBarButton"
                                           BasedOn="{StaticResource AppBarButtonRevealStyle}" />
                                        <Style TargetType="AppBarToggleButton"
                                           BasedOn="{StaticResource AppBarToggleButtonRevealStyle}" />
                                        <Storyboard x:Key="OverlayOpeningAnimation">
                                            <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="Opacity">
                                                <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                    Value="0" />
                                                <SplineDoubleKeyFrame KeyTime="0:0:0.467"
                                                                  KeySpline="0.1,0.9 0.2,1.0"
                                                                  Value="1" />
                                            </DoubleAnimationUsingKeyFrames>
                                        </Storyboard>
                                        <Storyboard x:Key="OverlayClosingAnimation">
                                            <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="Opacity">
                                                <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                    Value="1" />
                                                <SplineDoubleKeyFrame KeyTime="0:0:0.167"
                                                                  KeySpline="0.2,0 0,1"
                                                                  Value="0" />
                                            </DoubleAnimationUsingKeyFrames>
                                        </Storyboard>
                                    </Grid.Resources>

                                    <VisualStateManager.VisualStateGroups>
                                        <VisualStateGroup x:Name="CommonStates">
                                            <VisualState x:Name="Normal" />

                                            <VisualState x:Name="Disabled">

                                                <Storyboard>
                                                    <ObjectAnimationUsingKeyFrames Storyboard.TargetName="EllipsisIcon"
                                                                               Storyboard.TargetProperty="Foreground">
                                                        <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="{ThemeResource CommandBarEllipsisIconForegroundDisabled}" />
                                                    </ObjectAnimationUsingKeyFrames>
                                                </Storyboard>
                                            </VisualState>

                                        </VisualStateGroup>
                                        <VisualStateGroup x:Name="DisplayModeStates">

                                            <VisualStateGroup.Transitions>
                                                <VisualTransition From="CompactClosed"
                                                              To="CompactOpenUp"
                                                              GeneratedDuration="0:0:0.467">

                                                    <Storyboard>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="MoreButton"
                                                                                   Storyboard.TargetProperty="VerticalAlignment">
                                                            <DiscreteObjectKeyFrame KeyTime="0:0:0"
                                                                                Value="Stretch" />
                                                        </ObjectAnimationUsingKeyFrames>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="HighContrastBorder"
                                                                                   Storyboard.TargetProperty="Visibility">
                                                            <DiscreteObjectKeyFrame KeyTime="0:0:0"
                                                                                Value="Visible" />
                                                        </ObjectAnimationUsingKeyFrames>
                                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="OverflowContentRoot"
                                                                                   Storyboard.TargetProperty="Opacity">
                                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                                Value="1" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="OverflowContentRootTransform"
                                                                                   Storyboard.TargetProperty="Y">
                                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                                Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=CommandBarTemplateSettings.OverflowContentCompactYTranslation}" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="OverflowContentRootMarginOffsetTransform"
                                                                                   Storyboard.TargetProperty="Y">
                                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                                Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=CommandBarTemplateSettings.ContentHeight}" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="ContentTransform"
                                                                                   Storyboard.TargetProperty="Y">
                                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                                Value="0" />
                                                            <SplineDoubleKeyFrame KeyTime="0:0:0.467"
                                                                              KeySpline="0.1,0.9 0.2,1.0"
                                                                              Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=TemplateSettings.CompactVerticalDelta}" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="OverflowContentRootClipTransform"
                                                                                   Storyboard.TargetProperty="Y">
                                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                                Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=TemplateSettings.NegativeCompactVerticalDelta}" />
                                                            <SplineDoubleKeyFrame KeyTime="0:0:0.467"
                                                                              KeySpline="0.1,0.9 0.2,1.0"
                                                                              Value="0" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="OverflowContentTransform"
                                                                                   Storyboard.TargetProperty="Y">
                                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                                Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=CommandBarTemplateSettings.OverflowContentHeight}" />
                                                            <SplineDoubleKeyFrame KeyTime="0:0:0.467"
                                                                              KeySpline="0.1,0.9 0.2,1.0"
                                                                              Value="0" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                    </Storyboard>
                                                </VisualTransition>
                                                <VisualTransition From="CompactOpenUp"
                                                              To="CompactClosed"
                                                              GeneratedDuration="0:0:0.167">

                                                    <Storyboard>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="MoreButton"
                                                                                   Storyboard.TargetProperty="VerticalAlignment">
                                                            <DiscreteObjectKeyFrame KeyTime="0:0:0"
                                                                                Value="Stretch" />
                                                        </ObjectAnimationUsingKeyFrames>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="HighContrastBorder"
                                                                                   Storyboard.TargetProperty="Visibility">
                                                            <DiscreteObjectKeyFrame KeyTime="0:0:0"
                                                                                Value="Visible" />
                                                        </ObjectAnimationUsingKeyFrames>
                                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="OverflowContentRoot"
                                                                                   Storyboard.TargetProperty="Opacity">
                                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                                Value="1" />
                                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0.167"
                                                                                Value="0" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="OverflowContentRootTransform"
                                                                                   Storyboard.TargetProperty="Y">
                                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                                Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=CommandBarTemplateSettings.OverflowContentCompactYTranslation}" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="OverflowContentRootMarginOffsetTransform"
                                                                                   Storyboard.TargetProperty="Y">
                                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                                Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=CommandBarTemplateSettings.ContentHeight}" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="ContentTransform"
                                                                                   Storyboard.TargetProperty="Y">
                                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                                Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=TemplateSettings.CompactVerticalDelta}" />
                                                            <SplineDoubleKeyFrame KeyTime="0:0:0.167"
                                                                              KeySpline="0.2,0 0,1"
                                                                              Value="0" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="OverflowContentRootClipTransform"
                                                                                   Storyboard.TargetProperty="Y">
                                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                                Value="0" />
                                                            <SplineDoubleKeyFrame KeyTime="0:0:0.167"
                                                                              KeySpline="0.2,0 0,1"
                                                                              Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=TemplateSettings.NegativeCompactVerticalDelta}" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="OverflowContentTransform"
                                                                                   Storyboard.TargetProperty="Y">
                                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                                Value="0" />
                                                            <SplineDoubleKeyFrame KeyTime="0:0:0.167"
                                                                              KeySpline="0.2,0 0,1"
                                                                              Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=CommandBarTemplateSettings.OverflowContentHeight}" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                    </Storyboard>
                                                </VisualTransition>
                                                <VisualTransition From="CompactClosed"
                                                              To="CompactOpenDown"
                                                              GeneratedDuration="0:0:0.467">

                                                    <Storyboard>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="MoreButton"
                                                                                   Storyboard.TargetProperty="VerticalAlignment">
                                                            <DiscreteObjectKeyFrame KeyTime="0:0:0"
                                                                                Value="Stretch" />
                                                        </ObjectAnimationUsingKeyFrames>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="HighContrastBorder"
                                                                                   Storyboard.TargetProperty="Visibility">
                                                            <DiscreteObjectKeyFrame KeyTime="0:0:0"
                                                                                Value="Visible" />
                                                        </ObjectAnimationUsingKeyFrames>
                                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="OverflowContentRoot"
                                                                                   Storyboard.TargetProperty="Opacity">
                                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                                Value="1" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="ClipGeometryTransform"
                                                                                   Storyboard.TargetProperty="Y">
                                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                                Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=TemplateSettings.CompactVerticalDelta}" />
                                                            <SplineDoubleKeyFrame KeyTime="0:0:0.467"
                                                                              KeySpline="0.1,0.9 0.2,1.0"
                                                                              Value="0" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="OverflowContentRootTransform"
                                                                                   Storyboard.TargetProperty="Y">
                                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                                Value="{ThemeResource AppBarThemeCompactHeight}" />
                                                            <SplineDoubleKeyFrame KeyTime="0:0:0.467"
                                                                              KeySpline="0.1,0.9 0.2,1.0"
                                                                              Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=CommandBarTemplateSettings.ContentHeight}" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="OverflowContentTransform"
                                                                                   Storyboard.TargetProperty="Y">
                                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                                Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=CommandBarTemplateSettings.NegativeOverflowContentHeight}" />
                                                            <SplineDoubleKeyFrame KeyTime="0:0:0.467"
                                                                              KeySpline="0.1,0.9 0.2,1.0"
                                                                              Value="0" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                    </Storyboard>
                                                </VisualTransition>
                                                <VisualTransition From="CompactOpenDown"
                                                              To="CompactClosed"
                                                              GeneratedDuration="0:0:0.167">

                                                    <Storyboard>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="MoreButton"
                                                                                   Storyboard.TargetProperty="VerticalAlignment">
                                                            <DiscreteObjectKeyFrame KeyTime="0:0:0"
                                                                                Value="Stretch" />
                                                        </ObjectAnimationUsingKeyFrames>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="HighContrastBorder"
                                                                                   Storyboard.TargetProperty="Visibility">
                                                            <DiscreteObjectKeyFrame KeyTime="0:0:0"
                                                                                Value="Visible" />
                                                        </ObjectAnimationUsingKeyFrames>
                                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="OverflowContentRoot"
                                                                                   Storyboard.TargetProperty="Opacity">
                                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                                Value="1" />
                                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0.167"
                                                                                Value="0" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="ClipGeometryTransform"
                                                                                   Storyboard.TargetProperty="Y">
                                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                                Value="0" />
                                                            <SplineDoubleKeyFrame KeyTime="0:0:0.167"
                                                                              KeySpline="0.2,0 0,1"
                                                                              Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=TemplateSettings.CompactVerticalDelta}" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="OverflowContentRootTransform"
                                                                                   Storyboard.TargetProperty="Y">
                                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                                Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=CommandBarTemplateSettings.ContentHeight}" />
                                                            <SplineDoubleKeyFrame KeyTime="0:0:0.167"
                                                                              KeySpline="0.2,0 0,1"
                                                                              Value="{ThemeResource AppBarThemeCompactHeight}" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="OverflowContentTransform"
                                                                                   Storyboard.TargetProperty="Y">
                                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                                Value="0" />
                                                            <SplineDoubleKeyFrame KeyTime="0:0:0.167"
                                                                              KeySpline="0.2,0 0,1"
                                                                              Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=CommandBarTemplateSettings.NegativeOverflowContentHeight}" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                    </Storyboard>
                                                </VisualTransition>
                                                <VisualTransition From="MinimalClosed"
                                                              To="MinimalOpenUp"
                                                              GeneratedDuration="0:0:0.467">

                                                    <Storyboard>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="MoreButton"
                                                                                   Storyboard.TargetProperty="Padding">
                                                            <DiscreteObjectKeyFrame KeyTime="0:0:0"
                                                                                Value="14,11,14,0" />
                                                        </ObjectAnimationUsingKeyFrames>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="MoreButton"
                                                                                   Storyboard.TargetProperty="MinHeight">
                                                            <DiscreteObjectKeyFrame KeyTime="0:0:0"
                                                                                Value="{ThemeResource AppBarThemeMinimalHeight}" />
                                                        </ObjectAnimationUsingKeyFrames>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="MoreButton"
                                                                                   Storyboard.TargetProperty="VerticalAlignment">
                                                            <DiscreteObjectKeyFrame KeyTime="0:0:0"
                                                                                Value="Stretch" />
                                                        </ObjectAnimationUsingKeyFrames>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="HighContrastBorder"
                                                                                   Storyboard.TargetProperty="Visibility">
                                                            <DiscreteObjectKeyFrame KeyTime="0:0:0"
                                                                                Value="Visible" />
                                                        </ObjectAnimationUsingKeyFrames>
                                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="OverflowContentRoot"
                                                                                   Storyboard.TargetProperty="Opacity">
                                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                                Value="1" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="ClipGeometryTransform"
                                                                                   Storyboard.TargetProperty="Y">
                                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                                Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=TemplateSettings.MinimalVerticalDelta}" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="OverflowContentRootTransform"
                                                                                   Storyboard.TargetProperty="Y">
                                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                                Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=CommandBarTemplateSettings.OverflowContentMinimalYTranslation}" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="OverflowContentRootMarginOffsetTransform"
                                                                                   Storyboard.TargetProperty="Y">
                                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                                Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=CommandBarTemplateSettings.ContentHeight}" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="ContentTransform"
                                                                                   Storyboard.TargetProperty="Y">
                                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                                Value="0" />
                                                            <SplineDoubleKeyFrame KeyTime="0:0:0.467"
                                                                              KeySpline="0.1,0.9 0.2,1.0"
                                                                              Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=TemplateSettings.MinimalVerticalDelta}" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="ContentControl"
                                                                                   Storyboard.TargetProperty="Opacity">
                                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                                Value="0" />
                                                            <SplineDoubleKeyFrame KeyTime="0:0:0.467"
                                                                              KeySpline="0.1,0.9 0.2,1.0"
                                                                              Value="1" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="PrimaryItemsControl"
                                                                                   Storyboard.TargetProperty="Opacity">
                                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                                Value="0" />
                                                            <SplineDoubleKeyFrame KeyTime="0:0:0.467"
                                                                              KeySpline="0.1,0.9 0.2,1.0"
                                                                              Value="1" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="OverflowContentRootClipTransform"
                                                                                   Storyboard.TargetProperty="Y">
                                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                                Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=TemplateSettings.NegativeMinimalVerticalDelta}" />
                                                            <SplineDoubleKeyFrame KeyTime="0:0:0.467"
                                                                              KeySpline="0.1,0.9 0.2,1.0"
                                                                              Value="0" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="OverflowContentTransform"
                                                                                   Storyboard.TargetProperty="Y">
                                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                                Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=CommandBarTemplateSettings.OverflowContentHeight}" />
                                                            <SplineDoubleKeyFrame KeyTime="0:0:0.467"
                                                                              KeySpline="0.1,0.9 0.2,1.0"
                                                                              Value="0" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                    </Storyboard>
                                                </VisualTransition>
                                                <VisualTransition From="MinimalOpenUp"
                                                              To="MinimalClosed"
                                                              GeneratedDuration="0:0:0.167">

                                                    <Storyboard>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="MoreButton"
                                                                                   Storyboard.TargetProperty="Padding">
                                                            <DiscreteObjectKeyFrame KeyTime="0:0:0"
                                                                                Value="14,11,14,0" />
                                                        </ObjectAnimationUsingKeyFrames>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="MoreButton"
                                                                                   Storyboard.TargetProperty="MinHeight">
                                                            <DiscreteObjectKeyFrame KeyTime="0:0:0"
                                                                                Value="{ThemeResource AppBarThemeMinimalHeight}" />
                                                        </ObjectAnimationUsingKeyFrames>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="MoreButton"
                                                                                   Storyboard.TargetProperty="VerticalAlignment">
                                                            <DiscreteObjectKeyFrame KeyTime="0:0:0"
                                                                                Value="Stretch" />
                                                        </ObjectAnimationUsingKeyFrames>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="HighContrastBorder"
                                                                                   Storyboard.TargetProperty="Visibility">
                                                            <DiscreteObjectKeyFrame KeyTime="0:0:0"
                                                                                Value="Visible" />
                                                        </ObjectAnimationUsingKeyFrames>
                                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="OverflowContentRoot"
                                                                                   Storyboard.TargetProperty="Opacity">
                                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                                Value="1" />
                                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0.167"
                                                                                Value="0" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="ClipGeometryTransform"
                                                                                   Storyboard.TargetProperty="Y">
                                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                                Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=TemplateSettings.MinimalVerticalDelta}" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="OverflowContentRootTransform"
                                                                                   Storyboard.TargetProperty="Y">
                                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                                Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=CommandBarTemplateSettings.OverflowContentMinimalYTranslation}" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="OverflowContentRootMarginOffsetTransform"
                                                                                   Storyboard.TargetProperty="Y">
                                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                                Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=CommandBarTemplateSettings.ContentHeight}" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="ContentTransform"
                                                                                   Storyboard.TargetProperty="Y">
                                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                                Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=TemplateSettings.MinimalVerticalDelta}" />
                                                            <SplineDoubleKeyFrame KeyTime="0:0:0.167"
                                                                              KeySpline="0.2,0 0,1"
                                                                              Value="0" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="ContentControl"
                                                                                   Storyboard.TargetProperty="Opacity">
                                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                                Value="1" />
                                                            <SplineDoubleKeyFrame KeyTime="0:0:0.167"
                                                                              KeySpline="0.2,0 0,1"
                                                                              Value="0" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="PrimaryItemsControl"
                                                                                   Storyboard.TargetProperty="Opacity">
                                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                                Value="1" />
                                                            <SplineDoubleKeyFrame KeyTime="0:0:0.167"
                                                                              KeySpline="0.2,0 0,1"
                                                                              Value="0" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="OverflowContentRootClipTransform"
                                                                                   Storyboard.TargetProperty="Y">
                                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                                Value="0" />
                                                            <SplineDoubleKeyFrame KeyTime="0:0:0.167"
                                                                              KeySpline="0.2,0 0,1"
                                                                              Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=TemplateSettings.NegativeMinimalVerticalDelta}" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="OverflowContentTransform"
                                                                                   Storyboard.TargetProperty="Y">
                                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                                Value="0" />
                                                            <SplineDoubleKeyFrame KeyTime="0:0:0.167"
                                                                              KeySpline="0.2,0 0,1"
                                                                              Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=CommandBarTemplateSettings.OverflowContentHeight}" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                    </Storyboard>
                                                </VisualTransition>
                                                <VisualTransition From="MinimalClosed"
                                                              To="MinimalOpenDown"
                                                              GeneratedDuration="0:0:0.467">

                                                    <Storyboard>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="MoreButton"
                                                                                   Storyboard.TargetProperty="Padding">
                                                            <DiscreteObjectKeyFrame KeyTime="0:0:0"
                                                                                Value="14,11,14,0" />
                                                        </ObjectAnimationUsingKeyFrames>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="MoreButton"
                                                                                   Storyboard.TargetProperty="MinHeight">
                                                            <DiscreteObjectKeyFrame KeyTime="0:0:0"
                                                                                Value="{ThemeResource AppBarThemeMinimalHeight}" />
                                                        </ObjectAnimationUsingKeyFrames>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="MoreButton"
                                                                                   Storyboard.TargetProperty="VerticalAlignment">
                                                            <DiscreteObjectKeyFrame KeyTime="0:0:0"
                                                                                Value="Stretch" />
                                                        </ObjectAnimationUsingKeyFrames>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="HighContrastBorder"
                                                                                   Storyboard.TargetProperty="Visibility">
                                                            <DiscreteObjectKeyFrame KeyTime="0:0:0"
                                                                                Value="Visible" />
                                                        </ObjectAnimationUsingKeyFrames>
                                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="OverflowContentRoot"
                                                                                   Storyboard.TargetProperty="Opacity">
                                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                                Value="1" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="ClipGeometryTransform"
                                                                                   Storyboard.TargetProperty="Y">
                                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                                Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=TemplateSettings.MinimalVerticalDelta}" />
                                                            <SplineDoubleKeyFrame KeyTime="0:0:0.467"
                                                                              KeySpline="0.1,0.9 0.2,1.0"
                                                                              Value="0" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="ContentControl"
                                                                                   Storyboard.TargetProperty="Opacity">
                                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                                Value="0" />
                                                            <SplineDoubleKeyFrame KeyTime="0:0:0.467"
                                                                              KeySpline="0.1,0.9 0.2,1.0"
                                                                              Value="1" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="PrimaryItemsControl"
                                                                                   Storyboard.TargetProperty="Opacity">
                                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                                Value="0" />
                                                            <SplineDoubleKeyFrame KeyTime="0:0:0.467"
                                                                              KeySpline="0.1,0.9 0.2,1.0"
                                                                              Value="1" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="OverflowContentRootTransform"
                                                                                   Storyboard.TargetProperty="Y">
                                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                                Value="{ThemeResource AppBarThemeMinimalHeight}" />
                                                            <SplineDoubleKeyFrame KeyTime="0:0:0.467"
                                                                              KeySpline="0.1,0.9 0.2,1.0"
                                                                              Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=CommandBarTemplateSettings.ContentHeight}" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="OverflowContentTransform"
                                                                                   Storyboard.TargetProperty="Y">
                                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                                Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=CommandBarTemplateSettings.NegativeOverflowContentHeight}" />
                                                            <SplineDoubleKeyFrame KeyTime="0:0:0.467"
                                                                              KeySpline="0.1,0.9 0.2,1.0"
                                                                              Value="0" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                    </Storyboard>
                                                </VisualTransition>
                                                <VisualTransition From="MinimalOpenDown"
                                                              To="MinimalClosed"
                                                              GeneratedDuration="0:0:0.167">

                                                    <Storyboard>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="MoreButton"
                                                                                   Storyboard.TargetProperty="Padding">
                                                            <DiscreteObjectKeyFrame KeyTime="0:0:0"
                                                                                Value="14,11,14,0" />
                                                        </ObjectAnimationUsingKeyFrames>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="MoreButton"
                                                                                   Storyboard.TargetProperty="MinHeight">
                                                            <DiscreteObjectKeyFrame KeyTime="0:0:0"
                                                                                Value="{ThemeResource AppBarThemeMinimalHeight}" />
                                                        </ObjectAnimationUsingKeyFrames>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="MoreButton"
                                                                                   Storyboard.TargetProperty="VerticalAlignment">
                                                            <DiscreteObjectKeyFrame KeyTime="0:0:0"
                                                                                Value="Stretch" />
                                                        </ObjectAnimationUsingKeyFrames>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="HighContrastBorder"
                                                                                   Storyboard.TargetProperty="Visibility">
                                                            <DiscreteObjectKeyFrame KeyTime="0:0:0"
                                                                                Value="Visible" />
                                                        </ObjectAnimationUsingKeyFrames>
                                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="OverflowContentRoot"
                                                                                   Storyboard.TargetProperty="Opacity">
                                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                                Value="1" />
                                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0.167"
                                                                                Value="0" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="ClipGeometryTransform"
                                                                                   Storyboard.TargetProperty="Y">
                                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                                Value="0" />
                                                            <SplineDoubleKeyFrame KeyTime="0:0:0.167"
                                                                              KeySpline="0.2,0 0,1"
                                                                              Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=TemplateSettings.MinimalVerticalDelta}" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="ContentControl"
                                                                                   Storyboard.TargetProperty="Opacity">
                                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                                Value="1" />
                                                            <SplineDoubleKeyFrame KeyTime="0:0:0.167"
                                                                              KeySpline="0.2,0 0,1"
                                                                              Value="0" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="PrimaryItemsControl"
                                                                                   Storyboard.TargetProperty="Opacity">
                                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                                Value="1" />
                                                            <SplineDoubleKeyFrame KeyTime="0:0:0.167"
                                                                              KeySpline="0.2,0 0,1"
                                                                              Value="0" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="OverflowContentRootTransform"
                                                                                   Storyboard.TargetProperty="Y">
                                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                                Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=CommandBarTemplateSettings.ContentHeight}" />
                                                            <SplineDoubleKeyFrame KeyTime="0:0:0.167"
                                                                              KeySpline="0.2,0 0,1"
                                                                              Value="{ThemeResource AppBarThemeMinimalHeight}" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="OverflowContentTransform"
                                                                                   Storyboard.TargetProperty="Y">
                                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                                Value="0" />
                                                            <SplineDoubleKeyFrame KeyTime="0:0:0.167"
                                                                              KeySpline="0.2,0 0,1"
                                                                              Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=CommandBarTemplateSettings.NegativeOverflowContentHeight}" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                    </Storyboard>
                                                </VisualTransition>
                                                <VisualTransition From="HiddenClosed"
                                                              To="HiddenOpenUp"
                                                              GeneratedDuration="0:0:0.467">

                                                    <Storyboard>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="MoreButton"
                                                                                   Storyboard.TargetProperty="VerticalAlignment">
                                                            <DiscreteObjectKeyFrame KeyTime="0:0:0"
                                                                                Value="Stretch" />
                                                        </ObjectAnimationUsingKeyFrames>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="HighContrastBorder"
                                                                                   Storyboard.TargetProperty="Visibility">
                                                            <DiscreteObjectKeyFrame KeyTime="0:0:0"
                                                                                Value="Visible" />
                                                        </ObjectAnimationUsingKeyFrames>
                                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="OverflowContentRoot"
                                                                                   Storyboard.TargetProperty="Opacity">
                                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                                Value="1" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="ClipGeometryTransform"
                                                                                   Storyboard.TargetProperty="Y">
                                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                                Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=TemplateSettings.HiddenVerticalDelta}" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="OverflowContentRootTransform"
                                                                                   Storyboard.TargetProperty="Y">
                                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                                Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=CommandBarTemplateSettings.OverflowContentHiddenYTranslation}" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="OverflowContentRootMarginOffsetTransform"
                                                                                   Storyboard.TargetProperty="Y">
                                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                                Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=CommandBarTemplateSettings.ContentHeight}" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="ContentTransform"
                                                                                   Storyboard.TargetProperty="Y">
                                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                                Value="0" />
                                                            <SplineDoubleKeyFrame KeyTime="0:0:0.467"
                                                                              KeySpline="0.1,0.9 0.2,1.0"
                                                                              Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=TemplateSettings.HiddenVerticalDelta}" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="OverflowContentRootClipTransform"
                                                                                   Storyboard.TargetProperty="Y">
                                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                                Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=TemplateSettings.NegativeHiddenVerticalDelta}" />
                                                            <SplineDoubleKeyFrame KeyTime="0:0:0.467"
                                                                              KeySpline="0.1,0.9 0.2,1.0"
                                                                              Value="0" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="OverflowContentTransform"
                                                                                   Storyboard.TargetProperty="Y">
                                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                                Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=CommandBarTemplateSettings.OverflowContentHeight}" />
                                                            <SplineDoubleKeyFrame KeyTime="0:0:0.467"
                                                                              KeySpline="0.1,0.9 0.2,1.0"
                                                                              Value="0" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                    </Storyboard>
                                                </VisualTransition>
                                                <VisualTransition From="HiddenOpenUp"
                                                              To="HiddenClosed"
                                                              GeneratedDuration="0:0:0.167">

                                                    <Storyboard>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="MoreButton"
                                                                                   Storyboard.TargetProperty="VerticalAlignment">
                                                            <DiscreteObjectKeyFrame KeyTime="0:0:0"
                                                                                Value="Stretch" />
                                                        </ObjectAnimationUsingKeyFrames>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="HighContrastBorder"
                                                                                   Storyboard.TargetProperty="Visibility">
                                                            <DiscreteObjectKeyFrame KeyTime="0:0:0"
                                                                                Value="Visible" />
                                                        </ObjectAnimationUsingKeyFrames>
                                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="OverflowContentRoot"
                                                                                   Storyboard.TargetProperty="Opacity">
                                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                                Value="1" />
                                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0.167"
                                                                                Value="0" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="ClipGeometryTransform"
                                                                                   Storyboard.TargetProperty="Y">
                                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                                Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=TemplateSettings.HiddenVerticalDelta}" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="OverflowContentRootTransform"
                                                                                   Storyboard.TargetProperty="Y">
                                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                                Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=CommandBarTemplateSettings.OverflowContentHiddenYTranslation}" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="OverflowContentRootMarginOffsetTransform"
                                                                                   Storyboard.TargetProperty="Y">
                                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                                Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=CommandBarTemplateSettings.ContentHeight}" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="ContentTransform"
                                                                                   Storyboard.TargetProperty="Y">
                                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                                Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=TemplateSettings.HiddenVerticalDelta}" />
                                                            <SplineDoubleKeyFrame KeyTime="0:0:0.167"
                                                                              KeySpline="0.2,0 0,1"
                                                                              Value="0}" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="OverflowContentRootClipTransform"
                                                                                   Storyboard.TargetProperty="Y">
                                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                                Value="0" />
                                                            <SplineDoubleKeyFrame KeyTime="0:0:0.167"
                                                                              KeySpline="0.2,0 0,1"
                                                                              Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=TemplateSettings.NegativeHiddenVerticalDelta}" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="OverflowContentTransform"
                                                                                   Storyboard.TargetProperty="Y">
                                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                                Value="0" />
                                                            <SplineDoubleKeyFrame KeyTime="0:0:0.167"
                                                                              KeySpline="0.2,0 0,1"
                                                                              Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=CommandBarTemplateSettings.OverflowContentHeight}" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                    </Storyboard>
                                                </VisualTransition>
                                                <VisualTransition From="HiddenClosed"
                                                              To="HiddenOpenDown"
                                                              GeneratedDuration="0:0:0.467">

                                                    <Storyboard>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="MoreButton"
                                                                                   Storyboard.TargetProperty="VerticalAlignment">
                                                            <DiscreteObjectKeyFrame KeyTime="0:0:0"
                                                                                Value="Stretch" />
                                                        </ObjectAnimationUsingKeyFrames>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="HighContrastBorder"
                                                                                   Storyboard.TargetProperty="Visibility">
                                                            <DiscreteObjectKeyFrame KeyTime="0:0:0"
                                                                                Value="Visible" />
                                                        </ObjectAnimationUsingKeyFrames>
                                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="OverflowContentRoot"
                                                                                   Storyboard.TargetProperty="Opacity">
                                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                                Value="1" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="ClipGeometryTransform"
                                                                                   Storyboard.TargetProperty="Y">
                                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                                Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=TemplateSettings.HiddenVerticalDelta}" />
                                                            <SplineDoubleKeyFrame KeyTime="0:0:0.467"
                                                                              KeySpline="0.1,0.9 0.2,1.0"
                                                                              Value="0" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="OverflowContentRootTransform"
                                                                                   Storyboard.TargetProperty="Y">
                                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                                Value="0" />
                                                            <SplineDoubleKeyFrame KeyTime="0:0:0.467"
                                                                              KeySpline="0.1,0.9 0.2,1.0"
                                                                              Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=CommandBarTemplateSettings.ContentHeight}" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="OverflowContentTransform"
                                                                                   Storyboard.TargetProperty="Y">
                                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                                Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=CommandBarTemplateSettings.NegativeOverflowContentHeight}" />
                                                            <SplineDoubleKeyFrame KeyTime="0:0:0.467"
                                                                              KeySpline="0.1,0.9 0.2,1.0"
                                                                              Value="0" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                    </Storyboard>
                                                </VisualTransition>
                                                <VisualTransition From="HiddenOpenDown"
                                                              To="HiddenClosed"
                                                              GeneratedDuration="0:0:0.167">

                                                    <Storyboard>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="MoreButton"
                                                                                   Storyboard.TargetProperty="VerticalAlignment">
                                                            <DiscreteObjectKeyFrame KeyTime="0:0:0"
                                                                                Value="Stretch" />
                                                        </ObjectAnimationUsingKeyFrames>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="HighContrastBorder"
                                                                                   Storyboard.TargetProperty="Visibility">
                                                            <DiscreteObjectKeyFrame KeyTime="0:0:0"
                                                                                Value="Visible" />
                                                        </ObjectAnimationUsingKeyFrames>
                                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="OverflowContentRoot"
                                                                                   Storyboard.TargetProperty="Opacity">
                                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                                Value="1" />
                                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0.167"
                                                                                Value="0" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="ClipGeometryTransform"
                                                                                   Storyboard.TargetProperty="Y">
                                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                                Value="0" />
                                                            <SplineDoubleKeyFrame KeyTime="0:0:0.167"
                                                                              KeySpline="0.2,0 0,1"
                                                                              Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=TemplateSettings.HiddenVerticalDelta}" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="OverflowContentRootTransform"
                                                                                   Storyboard.TargetProperty="Y">
                                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                                Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=CommandBarTemplateSettings.ContentHeight}" />
                                                            <SplineDoubleKeyFrame KeyTime="0:0:0.167"
                                                                              KeySpline="0.2,0 0,1"
                                                                              Value="0" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="OverflowContentTransform"
                                                                                   Storyboard.TargetProperty="Y">
                                                            <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                                Value="0" />
                                                            <SplineDoubleKeyFrame KeyTime="0:0:0.167"
                                                                              KeySpline="0.2,0 0,1"
                                                                              Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=CommandBarTemplateSettings.NegativeOverflowContentHeight}" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                    </Storyboard>
                                                </VisualTransition>
                                            </VisualStateGroup.Transitions>
                                            <VisualState x:Name="CompactClosed" />
                                            <VisualState x:Name="CompactOpenUp">

                                                <Storyboard>
                                                    <DoubleAnimationUsingKeyFrames Storyboard.TargetName="ContentTransform"
                                                                               Storyboard.TargetProperty="Y">
                                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                            Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=TemplateSettings.CompactVerticalDelta}" />
                                                    </DoubleAnimationUsingKeyFrames>
                                                    <ObjectAnimationUsingKeyFrames Storyboard.TargetName="MoreButton"
                                                                               Storyboard.TargetProperty="VerticalAlignment">
                                                        <DiscreteObjectKeyFrame KeyTime="0:0:0"
                                                                            Value="Stretch" />
                                                    </ObjectAnimationUsingKeyFrames>
                                                    <ObjectAnimationUsingKeyFrames Storyboard.TargetName="HighContrastBorder"
                                                                               Storyboard.TargetProperty="Visibility">
                                                        <DiscreteObjectKeyFrame KeyTime="0:0:0"
                                                                            Value="Visible" />
                                                    </ObjectAnimationUsingKeyFrames>
                                                    <DoubleAnimationUsingKeyFrames Storyboard.TargetName="OverflowContentRoot"
                                                                               Storyboard.TargetProperty="Opacity">
                                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                            Value="1" />
                                                    </DoubleAnimationUsingKeyFrames>
                                                    <DoubleAnimationUsingKeyFrames Storyboard.TargetName="OverflowContentRootTransform"
                                                                               Storyboard.TargetProperty="Y">
                                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                            Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=CommandBarTemplateSettings.OverflowContentCompactYTranslation}" />
                                                    </DoubleAnimationUsingKeyFrames>
                                                    <DoubleAnimationUsingKeyFrames Storyboard.TargetName="OverflowContentRootMarginOffsetTransform"
                                                                               Storyboard.TargetProperty="Y">
                                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                            Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=CommandBarTemplateSettings.ContentHeight}" />
                                                    </DoubleAnimationUsingKeyFrames>
                                                </Storyboard>
                                            </VisualState>
                                            <VisualState x:Name="CompactOpenDown">

                                                <Storyboard>
                                                    <DoubleAnimationUsingKeyFrames Storyboard.TargetName="ClipGeometryTransform"
                                                                               Storyboard.TargetProperty="Y">
                                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                            Value="0" />
                                                    </DoubleAnimationUsingKeyFrames>
                                                    <ObjectAnimationUsingKeyFrames Storyboard.TargetName="MoreButton"
                                                                               Storyboard.TargetProperty="VerticalAlignment">
                                                        <DiscreteObjectKeyFrame KeyTime="0:0:0"
                                                                            Value="Stretch" />
                                                    </ObjectAnimationUsingKeyFrames>
                                                    <ObjectAnimationUsingKeyFrames Storyboard.TargetName="HighContrastBorder"
                                                                               Storyboard.TargetProperty="Visibility">
                                                        <DiscreteObjectKeyFrame KeyTime="0:0:0"
                                                                            Value="Visible" />
                                                    </ObjectAnimationUsingKeyFrames>
                                                    <DoubleAnimationUsingKeyFrames Storyboard.TargetName="OverflowContentRoot"
                                                                               Storyboard.TargetProperty="Opacity">
                                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                            Value="1" />
                                                    </DoubleAnimationUsingKeyFrames>
                                                    <DoubleAnimationUsingKeyFrames Storyboard.TargetName="OverflowContentRootTransform"
                                                                               Storyboard.TargetProperty="Y">
                                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                            Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=CommandBarTemplateSettings.ContentHeight}" />
                                                    </DoubleAnimationUsingKeyFrames>
                                                </Storyboard>
                                            </VisualState>
                                            <VisualState x:Name="MinimalClosed">

                                                <Storyboard>
                                                    <DoubleAnimationUsingKeyFrames Storyboard.TargetName="ClipGeometryTransform"
                                                                               Storyboard.TargetProperty="Y">
                                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                            Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=TemplateSettings.MinimalVerticalDelta}" />
                                                    </DoubleAnimationUsingKeyFrames>
                                                    <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ContentControl"
                                                                               Storyboard.TargetProperty="IsHitTestVisible">
                                                        <DiscreteObjectKeyFrame KeyTime="0:0:0"
                                                                            Value="False" />
                                                    </ObjectAnimationUsingKeyFrames>
                                                    <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ContentControl"
                                                                               Storyboard.TargetProperty="IsEnabled">
                                                        <DiscreteObjectKeyFrame KeyTime="0:0:0"
                                                                            Value="False" />
                                                    </ObjectAnimationUsingKeyFrames>
                                                    <DoubleAnimationUsingKeyFrames Storyboard.TargetName="ContentControl"
                                                                               Storyboard.TargetProperty="Opacity">
                                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                            Value="0" />
                                                    </DoubleAnimationUsingKeyFrames>
                                                    <ObjectAnimationUsingKeyFrames Storyboard.TargetName="MoreButton"
                                                                               Storyboard.TargetProperty="Padding">
                                                        <DiscreteObjectKeyFrame KeyTime="0:0:0"
                                                                            Value="14,11,14,0" />
                                                    </ObjectAnimationUsingKeyFrames>
                                                    <ObjectAnimationUsingKeyFrames Storyboard.TargetName="MoreButton"
                                                                               Storyboard.TargetProperty="MinHeight">
                                                        <DiscreteObjectKeyFrame KeyTime="0:0:0"
                                                                            Value="{ThemeResource AppBarThemeMinimalHeight}" />
                                                    </ObjectAnimationUsingKeyFrames>
                                                    <ObjectAnimationUsingKeyFrames Storyboard.TargetName="PrimaryItemsControl"
                                                                               Storyboard.TargetProperty="IsHitTestVisible">
                                                        <DiscreteObjectKeyFrame KeyTime="0:0:0"
                                                                            Value="False" />
                                                    </ObjectAnimationUsingKeyFrames>
                                                    <ObjectAnimationUsingKeyFrames Storyboard.TargetName="PrimaryItemsControl"
                                                                               Storyboard.TargetProperty="IsEnabled">
                                                        <DiscreteObjectKeyFrame KeyTime="0:0:0"
                                                                            Value="False" />
                                                    </ObjectAnimationUsingKeyFrames>
                                                    <DoubleAnimationUsingKeyFrames Storyboard.TargetName="PrimaryItemsControl"
                                                                               Storyboard.TargetProperty="Opacity">
                                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                            Value="0" />
                                                    </DoubleAnimationUsingKeyFrames>
                                                </Storyboard>
                                            </VisualState>
                                            <VisualState x:Name="MinimalOpenUp">

                                                <Storyboard>
                                                    <DoubleAnimationUsingKeyFrames Storyboard.TargetName="ClipGeometryTransform"
                                                                               Storyboard.TargetProperty="Y">
                                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                            Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=TemplateSettings.MinimalVerticalDelta}" />
                                                    </DoubleAnimationUsingKeyFrames>
                                                    <DoubleAnimationUsingKeyFrames Storyboard.TargetName="ContentTransform"
                                                                               Storyboard.TargetProperty="Y">
                                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                            Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=TemplateSettings.MinimalVerticalDelta}" />
                                                    </DoubleAnimationUsingKeyFrames>
                                                    <ObjectAnimationUsingKeyFrames Storyboard.TargetName="MoreButton"
                                                                               Storyboard.TargetProperty="Padding">
                                                        <DiscreteObjectKeyFrame KeyTime="0:0:0"
                                                                            Value="14,11,14,0" />
                                                    </ObjectAnimationUsingKeyFrames>
                                                    <ObjectAnimationUsingKeyFrames Storyboard.TargetName="MoreButton"
                                                                               Storyboard.TargetProperty="MinHeight">
                                                        <DiscreteObjectKeyFrame KeyTime="0:0:0"
                                                                            Value="{ThemeResource AppBarThemeMinimalHeight}" />
                                                    </ObjectAnimationUsingKeyFrames>
                                                    <ObjectAnimationUsingKeyFrames Storyboard.TargetName="MoreButton"
                                                                               Storyboard.TargetProperty="VerticalAlignment">
                                                        <DiscreteObjectKeyFrame KeyTime="0:0:0"
                                                                            Value="Stretch" />
                                                    </ObjectAnimationUsingKeyFrames>
                                                    <ObjectAnimationUsingKeyFrames Storyboard.TargetName="HighContrastBorder"
                                                                               Storyboard.TargetProperty="Visibility">
                                                        <DiscreteObjectKeyFrame KeyTime="0:0:0"
                                                                            Value="Visible" />
                                                    </ObjectAnimationUsingKeyFrames>
                                                    <DoubleAnimationUsingKeyFrames Storyboard.TargetName="OverflowContentRoot"
                                                                               Storyboard.TargetProperty="Opacity">
                                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                            Value="1" />
                                                    </DoubleAnimationUsingKeyFrames>
                                                    <DoubleAnimationUsingKeyFrames Storyboard.TargetName="OverflowContentRootTransform"
                                                                               Storyboard.TargetProperty="Y">
                                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                            Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=CommandBarTemplateSettings.OverflowContentMinimalYTranslation}" />
                                                    </DoubleAnimationUsingKeyFrames>
                                                    <DoubleAnimationUsingKeyFrames Storyboard.TargetName="OverflowContentRootMarginOffsetTransform"
                                                                               Storyboard.TargetProperty="Y">
                                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                            Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=CommandBarTemplateSettings.ContentHeight}" />
                                                    </DoubleAnimationUsingKeyFrames>
                                                </Storyboard>
                                            </VisualState>
                                            <VisualState x:Name="MinimalOpenDown">

                                                <Storyboard>
                                                    <DoubleAnimationUsingKeyFrames Storyboard.TargetName="ClipGeometryTransform"
                                                                               Storyboard.TargetProperty="Y">
                                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                            Value="0" />
                                                    </DoubleAnimationUsingKeyFrames>
                                                    <ObjectAnimationUsingKeyFrames Storyboard.TargetName="MoreButton"
                                                                               Storyboard.TargetProperty="Padding">
                                                        <DiscreteObjectKeyFrame KeyTime="0:0:0"
                                                                            Value="14,11,14,0" />
                                                    </ObjectAnimationUsingKeyFrames>
                                                    <ObjectAnimationUsingKeyFrames Storyboard.TargetName="MoreButton"
                                                                               Storyboard.TargetProperty="MinHeight">
                                                        <DiscreteObjectKeyFrame KeyTime="0:0:0"
                                                                            Value="{ThemeResource AppBarThemeMinimalHeight}" />
                                                    </ObjectAnimationUsingKeyFrames>
                                                    <ObjectAnimationUsingKeyFrames Storyboard.TargetName="MoreButton"
                                                                               Storyboard.TargetProperty="VerticalAlignment">
                                                        <DiscreteObjectKeyFrame KeyTime="0:0:0"
                                                                            Value="Stretch" />
                                                    </ObjectAnimationUsingKeyFrames>
                                                    <ObjectAnimationUsingKeyFrames Storyboard.TargetName="HighContrastBorder"
                                                                               Storyboard.TargetProperty="Visibility">
                                                        <DiscreteObjectKeyFrame KeyTime="0:0:0"
                                                                            Value="Visible" />
                                                    </ObjectAnimationUsingKeyFrames>
                                                    <DoubleAnimationUsingKeyFrames Storyboard.TargetName="OverflowContentRoot"
                                                                               Storyboard.TargetProperty="Opacity">
                                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                            Value="1" />
                                                    </DoubleAnimationUsingKeyFrames>
                                                    <DoubleAnimationUsingKeyFrames Storyboard.TargetName="OverflowContentRootTransform"
                                                                               Storyboard.TargetProperty="Y">
                                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                            Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=CommandBarTemplateSettings.ContentHeight}" />
                                                    </DoubleAnimationUsingKeyFrames>
                                                </Storyboard>
                                            </VisualState>
                                            <VisualState x:Name="HiddenClosed">

                                                <Storyboard>
                                                    <DoubleAnimationUsingKeyFrames Storyboard.TargetName="ClipGeometryTransform"
                                                                               Storyboard.TargetProperty="Y">
                                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                            Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=TemplateSettings.HiddenVerticalDelta}" />
                                                    </DoubleAnimationUsingKeyFrames>
                                                    <ObjectAnimationUsingKeyFrames Storyboard.TargetName="MoreButton"
                                                                               Storyboard.TargetProperty="IsTabStop">
                                                        <DiscreteObjectKeyFrame KeyTime="0:0:0"
                                                                            Value="False" />
                                                    </ObjectAnimationUsingKeyFrames>
                                                    <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ContentControl"
                                                                               Storyboard.TargetProperty="IsEnabled">
                                                        <DiscreteObjectKeyFrame KeyTime="0:0:0"
                                                                            Value="False" />
                                                    </ObjectAnimationUsingKeyFrames>
                                                    <ObjectAnimationUsingKeyFrames Storyboard.TargetName="PrimaryItemsControl"
                                                                               Storyboard.TargetProperty="IsEnabled">
                                                        <DiscreteObjectKeyFrame KeyTime="0:0:0"
                                                                            Value="False" />
                                                    </ObjectAnimationUsingKeyFrames>
                                                </Storyboard>
                                            </VisualState>
                                            <VisualState x:Name="HiddenOpenUp">

                                                <Storyboard>
                                                    <DoubleAnimationUsingKeyFrames Storyboard.TargetName="ClipGeometryTransform"
                                                                               Storyboard.TargetProperty="Y">
                                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                            Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=TemplateSettings.HiddenVerticalDelta}" />
                                                    </DoubleAnimationUsingKeyFrames>
                                                    <DoubleAnimationUsingKeyFrames Storyboard.TargetName="ContentTransform"
                                                                               Storyboard.TargetProperty="Y">
                                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                            Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=TemplateSettings.HiddenVerticalDelta}" />
                                                    </DoubleAnimationUsingKeyFrames>
                                                    <ObjectAnimationUsingKeyFrames Storyboard.TargetName="MoreButton"
                                                                               Storyboard.TargetProperty="VerticalAlignment">
                                                        <DiscreteObjectKeyFrame KeyTime="0:0:0"
                                                                            Value="Stretch" />
                                                    </ObjectAnimationUsingKeyFrames>
                                                    <ObjectAnimationUsingKeyFrames Storyboard.TargetName="HighContrastBorder"
                                                                               Storyboard.TargetProperty="Visibility">
                                                        <DiscreteObjectKeyFrame KeyTime="0:0:0"
                                                                            Value="Visible" />
                                                    </ObjectAnimationUsingKeyFrames>
                                                    <DoubleAnimationUsingKeyFrames Storyboard.TargetName="OverflowContentRoot"
                                                                               Storyboard.TargetProperty="Opacity">
                                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                            Value="1" />
                                                    </DoubleAnimationUsingKeyFrames>
                                                    <DoubleAnimationUsingKeyFrames Storyboard.TargetName="OverflowContentRootTransform"
                                                                               Storyboard.TargetProperty="Y">
                                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                            Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=CommandBarTemplateSettings.OverflowContentHiddenYTranslation}" />
                                                    </DoubleAnimationUsingKeyFrames>
                                                    <DoubleAnimationUsingKeyFrames Storyboard.TargetName="OverflowContentRootMarginOffsetTransform"
                                                                               Storyboard.TargetProperty="Y">
                                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                            Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=CommandBarTemplateSettings.ContentHeight}" />
                                                    </DoubleAnimationUsingKeyFrames>
                                                </Storyboard>
                                            </VisualState>
                                            <VisualState x:Name="HiddenOpenDown">

                                                <Storyboard>
                                                    <DoubleAnimationUsingKeyFrames Storyboard.TargetName="ClipGeometryTransform"
                                                                               Storyboard.TargetProperty="Y">
                                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                            Value="0" />
                                                    </DoubleAnimationUsingKeyFrames>
                                                    <ObjectAnimationUsingKeyFrames Storyboard.TargetName="MoreButton"
                                                                               Storyboard.TargetProperty="VerticalAlignment">
                                                        <DiscreteObjectKeyFrame KeyTime="0:0:0"
                                                                            Value="Stretch" />
                                                    </ObjectAnimationUsingKeyFrames>
                                                    <ObjectAnimationUsingKeyFrames Storyboard.TargetName="HighContrastBorder"
                                                                               Storyboard.TargetProperty="Visibility">
                                                        <DiscreteObjectKeyFrame KeyTime="0:0:0"
                                                                            Value="Visible" />
                                                    </ObjectAnimationUsingKeyFrames>
                                                    <DoubleAnimationUsingKeyFrames Storyboard.TargetName="OverflowContentRoot"
                                                                               Storyboard.TargetProperty="Opacity">
                                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                            Value="1" />
                                                    </DoubleAnimationUsingKeyFrames>
                                                    <DoubleAnimationUsingKeyFrames Storyboard.TargetName="OverflowContentRootTransform"
                                                                               Storyboard.TargetProperty="Y">
                                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                                                            Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=CommandBarTemplateSettings.ContentHeight}" />
                                                    </DoubleAnimationUsingKeyFrames>
                                                </Storyboard>
                                            </VisualState>

                                        </VisualStateGroup>
                                        <VisualStateGroup x:Name="AvailableCommandsStates">
                                            <VisualState x:Name="BothCommands" />
                                            <VisualState x:Name="PrimaryCommandsOnly">

                                                <Storyboard>
                                                    <ObjectAnimationUsingKeyFrames Storyboard.TargetName="OverflowContentRoot"
                                                                               Storyboard.TargetProperty="Visibility">
                                                        <DiscreteObjectKeyFrame KeyTime="0:0:0"
                                                                            Value="Collapsed" />
                                                    </ObjectAnimationUsingKeyFrames>
                                                </Storyboard>
                                            </VisualState>
                                            <VisualState x:Name="SecondaryCommandsOnly">

                                                <Storyboard>
                                                    <ObjectAnimationUsingKeyFrames Storyboard.TargetName="PrimaryItemsControl"
                                                                               Storyboard.TargetProperty="Visibility">
                                                        <DiscreteObjectKeyFrame KeyTime="0:0:0"
                                                                            Value="Collapsed" />
                                                    </ObjectAnimationUsingKeyFrames>
                                                </Storyboard>
                                            </VisualState>

                                        </VisualStateGroup>
                                        <VisualStateGroup x:Name="DynamicOverflowStates">
                                            <VisualState x:Name="DynamicOverflowDisabled" />
                                            <VisualState x:Name="DynamicOverflowEnabled">
                                                <VisualState.Setters>
                                                    <Setter Target="ContentControlColumnDefinition.Width"
                                                        Value="Auto" />
                                                    <Setter Target="PrimaryItemsControlColumnDefinition.Width"
                                                        Value="*" />
                                                </VisualState.Setters>
                                            </VisualState>

                                        </VisualStateGroup>

                                    </VisualStateManager.VisualStateGroups>
                                    <Grid.Clip>
                                        <RectangleGeometry Rect="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=TemplateSettings.ClipRect}">
                                            <RectangleGeometry.Transform>
                                                <TranslateTransform x:Name="ClipGeometryTransform"
                                                                Y="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=TemplateSettings.CompactVerticalDelta}" />
                                            </RectangleGeometry.Transform>
                                        </RectangleGeometry>
                                    </Grid.Clip>
                                    <Grid x:Name="ContentRoot"
                                      VerticalAlignment="Top"
                                      Margin="{TemplateBinding Padding}"
                                      Height="{TemplateBinding Height}"
                                      MinHeight="{ThemeResource AppBarThemeCompactHeight}"
                                      Background="{TemplateBinding Background}"
                                      XYFocusKeyboardNavigation="Enabled">

                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*" />
                                            <ColumnDefinition Width="Auto" />
                                        </Grid.ColumnDefinitions>
                                        <Grid.RenderTransform>
                                            <TranslateTransform x:Name="ContentTransform" />
                                        </Grid.RenderTransform>
                                        <Grid>

                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition x:Name="ContentControlColumnDefinition"
                                                              Width="*" />
                                                <ColumnDefinition x:Name="PrimaryItemsControlColumnDefinition"
                                                              Width="Auto" />
                                            </Grid.ColumnDefinitions>
                                            <ContentControl x:Name="ContentControl"
                                                        Content="{TemplateBinding Content}"
                                                        ContentTemplate="{TemplateBinding ContentTemplate}"
                                                        ContentTransitions="{TemplateBinding ContentTransitions}"
                                                        Foreground="{TemplateBinding Foreground}"
                                                        HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                                        VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                                        HorizontalContentAlignment="{TemplateBinding HorizontalContentAlignment}"
                                                        VerticalContentAlignment="{TemplateBinding VerticalContentAlignment}"
                                                        IsTabStop="False" />
                                            <ItemsControl x:Name="PrimaryItemsControl"
                                                      HorizontalAlignment="Right"
                                                      MinHeight="{ThemeResource AppBarThemeCompactHeight}"
                                                      IsTabStop="False"
                                                      Grid.Column="1">
                                                <ItemsControl.ItemsPanel>
                                                    <ItemsPanelTemplate>
                                                        <StackPanel Orientation="Horizontal" />
                                                    </ItemsPanelTemplate>
                                                </ItemsControl.ItemsPanel>
                                            </ItemsControl>
                                        </Grid>
                                        <Button x:Name="MoreButton"
                                            Foreground="Black"
                                            Background="Transparent"
                                            BorderThickness="0"
                                            VerticalAlignment="Center"
                                            Grid.Column="1"
                                            CornerRadius="5"
                                            Padding="8,6,8,6"
                                            IsAccessKeyScope="True"
                                            Visibility="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=CommandBarTemplateSettings.EffectiveOverflowButtonVisibility}">
                                            <Button.Resources>
                                                <ResourceDictionary>
                                                    <ResourceDictionary.ThemeDictionaries>
                                                        <ResourceDictionary x:Key="Default">
                                                            <SolidColorBrush x:Key="ButtonBackgroundPointerOver"
                                                                         Color="#ebebeb" />
                                                            <SolidColorBrush x:Key="ButtonBackgroundPressed"
                                                                         Color="#ebebeb" />
                                                            <SolidColorBrush x:Key="ButtonForegroundPressed"
                                                                         Color="Black" />
                                                            <SolidColorBrush x:Key="ButtonForegroundPointerOver"
                                                                         Color="Black" />
                                                        </ResourceDictionary>
                                                    </ResourceDictionary.ThemeDictionaries>
                                                </ResourceDictionary>
                                            </Button.Resources>
                                            <Image Source="../Assets/Images/Icons/filter.png"
                                               Height="25"
                                               Width="25"/>
                                            <!--<TextBlock x:Name="EllipsisIcon"
                                                   FontSize="20"
                                                   FontFamily="segoe mdl2 assets"
                                                   FontWeight="Light"
                                                   Text="&#xE71C;" />-->
                                        </Button>
                                        <Rectangle x:Name="HighContrastBorder"
                                               x:DeferLoadStrategy="Lazy"
                                               Grid.ColumnSpan="2"
                                               Visibility="Collapsed"
                                               VerticalAlignment="Stretch"
                                               Stroke="{ThemeResource CommandBarHighContrastBorder}"
                                               StrokeThickness="1" />
                                    </Grid>
                                    <Popup x:Name="OverflowPopup">
                                        <Popup.RenderTransform>
                                            <TransformGroup>
                                                <TranslateTransform x:Name="OverflowContentRootMarginOffsetTransform" />
                                                <TranslateTransform x:Name="OverflowContentRootTransform"
                                                                X="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=CommandBarTemplateSettings.OverflowContentHorizontalOffset}" />
                                            </TransformGroup>
                                        </Popup.RenderTransform>
                                        <Grid x:Name="OverflowContentRoot"
                                          Opacity="0"
                                          MinWidth="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=CommandBarTemplateSettings.OverflowContentMinWidth}"
                                          MaxWidth="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=CommandBarTemplateSettings.OverflowContentMaxWidth}"
                                          MaxHeight="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=CommandBarTemplateSettings.OverflowContentMaxHeight}">

                                            <Grid.RowDefinitions>
                                                <RowDefinition />
                                                <RowDefinition Height="Auto" />
                                            </Grid.RowDefinitions>
                                            <Grid.Clip>
                                                <RectangleGeometry Rect="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=CommandBarTemplateSettings.OverflowContentClipRect}">
                                                    <RectangleGeometry.Transform>
                                                        <TransformGroup>
                                                            <TranslateTransform x:Name="OverflowContentRootClipTransform" />
                                                        </TransformGroup>
                                                    </RectangleGeometry.Transform>
                                                </RectangleGeometry>
                                            </Grid.Clip>
                                            <CommandBarOverflowPresenter x:Name="SecondaryItemsControl"
                                                                     Style="{TemplateBinding CommandBarOverflowPresenterStyle}"
                                                                     IsTabStop="False">
                                                <CommandBarOverflowPresenter.RenderTransform>
                                                    <TranslateTransform x:Name="OverflowContentTransform" />
                                                </CommandBarOverflowPresenter.RenderTransform>
                                                <CommandBarOverflowPresenter.ItemContainerStyle>
                                                    <Style TargetType="FrameworkElement">
                                                        <Setter Property="HorizontalAlignment"
                                                            Value="Stretch" />
                                                        <Setter Property="Width"
                                                            Value="NaN" />
                                                    </Style>
                                                </CommandBarOverflowPresenter.ItemContainerStyle>
                                            </CommandBarOverflowPresenter>
                                            <!-- In order to give us extra space in the windowed popup to translate things down,
                                     we add a rectangle to make the HWND taller than it otherwise would be. -->
                                            <Rectangle x:Name="WindowedPopupPadding"
                                                   Grid.Row="1"
                                                   Height="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=CommandBarTemplateSettings.ContentHeight}" />
                                        </Grid>
                                    </Popup>

                                </Grid>

                            </ControlTemplate>
                        </CommandBar.Template>
                        <AppBarElementContainer VerticalAlignment="Center"
                                            Margin="10,0,10,0">
                        <ToggleButton
                            Style="{StaticResource FilterToggleButtonStyle}"
                                      Click="OnFilterTypeSelected"
                                      IsChecked="True">
                            <ToggleButton.Resources>
                                <ResourceDictionary>
                                    <ResourceDictionary.MergedDictionaries>
                                        <ResourceDictionary Source="Resource/Theme Resource/FilterToggleButton.xaml" />
                                    </ResourceDictionary.MergedDictionaries>
                                </ResourceDictionary>
                            </ToggleButton.Resources>
                            <ToggleButton.Content>
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition/>
                                    </Grid.ColumnDefinitions>
                                    <Image
                        Source="../Assets/Images/Icons/filterFunnel.png"
              
                           VerticalAlignment="Center"
                           Height="14"
                           Width="14"
                                    Margin="0,0,5,0"/>
                                    <TextBlock Text="Relevance"
                                               VerticalAlignment="Center"
                                           FontWeight="Normal"
                                           FontSize="16"
                                           Grid.Column="1"/>

                                </Grid>
                            </ToggleButton.Content>
                        </ToggleButton>
                    </AppBarElementContainer>
                        <AppBarElementContainer VerticalAlignment="Center"
                                            Margin="10,0,10,0">
                            <ToggleButton
                                      Style="{StaticResource FilterToggleButtonStyle}"
                                      Click="OnFilterTypeSelected">
                                <ToggleButton.Resources>
                                    <ResourceDictionary>
                                        <ResourceDictionary.MergedDictionaries>
                                            <ResourceDictionary Source="Resource/Theme Resource/FilterToggleButton.xaml" />
                                        </ResourceDictionary.MergedDictionaries>
                                    </ResourceDictionary>
                                </ToggleButton.Resources>
                            <ToggleButton.Content>
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition/>
                                    </Grid.ColumnDefinitions>
                                    <Image
                        Source="../Assets/Images/Icons/time.png"
              
                           VerticalAlignment="Center"
                           Height="14"
                           Width="14"
                                    Margin="0,0,5,0"/>
                                    <TextBlock Text="Delivery Time"
                                           FontWeight="Normal"
                                           FontSize="16"
                                           Grid.Column="1"/>

                                </Grid>
                            </ToggleButton.Content>
                        </ToggleButton>
                        </AppBarElementContainer>
                        <AppBarElementContainer VerticalAlignment="Center"
                                            Margin="10,0,10,0">
                            <ToggleButton
                                      Style="{StaticResource FilterToggleButtonStyle}"
                                      Click="OnFilterTypeSelected">
                                <ToggleButton.Resources>
                                    <ResourceDictionary>
                                        <ResourceDictionary.MergedDictionaries>
                                            <ResourceDictionary Source="Resource/Theme Resource/FilterToggleButton.xaml" />
                                        </ResourceDictionary.MergedDictionaries>
                                    </ResourceDictionary>
                                </ToggleButton.Resources>
                            <ToggleButton.Content>
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition/>
                                    </Grid.ColumnDefinitions>
                                    <Image
                        Source="../Assets/Images/Icons/star.png"
              
                           VerticalAlignment="Center"
                           Height="14"
                           Width="14"
                                    Margin="0,0,5,0"/>
                                    <TextBlock Text="Rating"
                                           FontWeight="Normal"
                                           FontSize="16"
                                           Grid.Column="1"/>

                                </Grid>
                            </ToggleButton.Content>
                        </ToggleButton>
                        </AppBarElementContainer>
                        <AppBarElementContainer VerticalAlignment="Center"
                                            Margin="10,0,10,0">
                            <ToggleButton
                                      Style="{StaticResource FilterToggleButtonStyle}"
                                      Click="OnFilterTypeSelected">
                                <ToggleButton.Resources>
                                    <ResourceDictionary>
                                        <ResourceDictionary.MergedDictionaries>
                                            <ResourceDictionary Source="Resource/Theme Resource/FilterToggleButton.xaml" />
                                        </ResourceDictionary.MergedDictionaries>
                                    </ResourceDictionary>
                                </ToggleButton.Resources>
                            <ToggleButton.Content>
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition/>
                                    </Grid.ColumnDefinitions>
                                    <Image
                        Source="../Assets/Images/Icons/as.png"
              
                           VerticalAlignment="Center"
                           Height="14"
                           Width="14"
                                    Margin="0,0,5,0"/>
                                    <TextBlock Text="Cost : Low To High"
                                           FontWeight="Normal"
                                           FontSize="16"
                                           Grid.Column="1"/>

                                </Grid>
                            </ToggleButton.Content>
                        </ToggleButton>
                        </AppBarElementContainer>
                        <AppBarElementContainer VerticalAlignment="Center"
                                            Margin="10,0,0,0">
                            <ToggleButton 
                                      Style="{StaticResource FilterToggleButtonStyle}"
                                      Click="OnFilterTypeSelected">
                                <ToggleButton.Resources>
                                    <ResourceDictionary>
                                        <ResourceDictionary.MergedDictionaries>
                                            <ResourceDictionary Source="Resource/Theme Resource/FilterToggleButton.xaml" />
                                        </ResourceDictionary.MergedDictionaries>
                                    </ResourceDictionary>
                                </ToggleButton.Resources>
                            <ToggleButton.Content>
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition/>
                                    </Grid.ColumnDefinitions>
                                    <Image
                        Source="../Assets/Images/Icons/ds.png"
              
                           VerticalAlignment="Center"
                           Height="14"
                           Width="14"
                                    Margin="0,0,5,0"/>
                                    <TextBlock Text="Cost : High To Low"
                                           FontWeight="Normal"
                                           FontSize="16"
                                           Grid.Column="1"/>

                                </Grid>
                            </ToggleButton.Content>
                        </ToggleButton>
                        </AppBarElementContainer>
                    </CommandBar>
                </Grid>
                <Grid Background="#f4f4f4"
                  Grid.Row="1">
                    <Grid>
                        <uc:RestaurantGridViewControl ItemsSource="{Binding Restaurants,Mode=OneWay}"
                                              OnGridItemClick="OnRestaurantSelect"/>
                    </Grid>
                </Grid>
            </Grid>
        </Grid>
</Page>
